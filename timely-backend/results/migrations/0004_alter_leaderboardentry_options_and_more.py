# Generated by Django 5.2.6 on 2025-09-24 05:41

import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('events', '0009_alter_announcement_options_alter_event_options_and_more'),
        ('fixtures', '0006_fixture_fixtures_fi_status_46ff81_idx'),
        ('results', '0003_merge_20250917_1625'),
        ('teams', '0003_team_is_active_team_is_public_team_sport'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.AlterModelOptions(
            name='leaderboardentry',
            options={'ordering': ['event', '-points', '-goal_difference', '-goals_for']},
        ),
        migrations.RemoveConstraint(
            model_name='leaderboardentry',
            name='unique_event_team_leaderboard',
        ),
        migrations.RemoveIndex(
            model_name='leaderboardentry',
            name='results_lea_event_i_c9a5bb_idx',
        ),
        migrations.RemoveIndex(
            model_name='leaderboardentry',
            name='results_lea_team_id_c19a4b_idx',
        ),
        migrations.RemoveIndex(
            model_name='leaderboardentry',
            name='results_lea_event_i_6f2482_idx',
        ),
        migrations.RemoveIndex(
            model_name='result',
            name='results_res_finaliz_027a24_idx',
        ),
        migrations.RemoveIndex(
            model_name='result',
            name='results_res_entered_e46685_idx',
        ),
        migrations.AlterUniqueTogether(
            name='leaderboardentry',
            unique_together={('event', 'team')},
        ),
        migrations.RemoveField(
            model_name='result',
            name='away_score',
        ),
        migrations.RemoveField(
            model_name='result',
            name='entered_by',
        ),
        migrations.RemoveField(
            model_name='result',
            name='finalized_at',
        ),
        migrations.RemoveField(
            model_name='result',
            name='home_score',
        ),
        migrations.RemoveField(
            model_name='result',
            name='stats',
        ),
        migrations.AddField(
            model_name='leaderboardentry',
            name='draws',
            field=models.PositiveIntegerField(default=0, help_text='Number of draws'),
        ),
        migrations.AddField(
            model_name='leaderboardentry',
            name='goal_difference',
            field=models.IntegerField(default=0, help_text='Goal difference (GF - GA)'),
        ),
        migrations.AddField(
            model_name='leaderboardentry',
            name='goals_against',
            field=models.PositiveIntegerField(default=0, help_text='Goals conceded'),
        ),
        migrations.AddField(
            model_name='leaderboardentry',
            name='goals_for',
            field=models.PositiveIntegerField(default=0, help_text='Goals scored'),
        ),
        migrations.AddField(
            model_name='leaderboardentry',
            name='losses',
            field=models.PositiveIntegerField(default=0, help_text='Number of losses'),
        ),
        migrations.AddField(
            model_name='leaderboardentry',
            name='matches_played',
            field=models.PositiveIntegerField(default=0, help_text='Number of matches played'),
        ),
        migrations.AddField(
            model_name='leaderboardentry',
            name='points',
            field=models.PositiveIntegerField(default=0, help_text='Total points (3 for win, 1 for draw)'),
        ),
        migrations.AddField(
            model_name='leaderboardentry',
            name='position',
            field=models.PositiveIntegerField(default=0, help_text='Current position in leaderboard'),
        ),
        migrations.AddField(
            model_name='leaderboardentry',
            name='wins',
            field=models.PositiveIntegerField(default=0, help_text='Number of wins'),
        ),
        migrations.AddField(
            model_name='result',
            name='notes',
            field=models.TextField(blank=True, help_text='Additional notes'),
        ),
        migrations.AddField(
            model_name='result',
            name='published',
            field=models.BooleanField(default=False, help_text='Whether result is published'),
        ),
        migrations.AddField(
            model_name='result',
            name='score_away',
            field=models.PositiveIntegerField(default=0, help_text='Away team score'),
        ),
        migrations.AddField(
            model_name='result',
            name='score_home',
            field=models.PositiveIntegerField(default=0, help_text='Home team score'),
        ),
        migrations.AddField(
            model_name='result',
            name='status',
            field=models.CharField(choices=[('PENDING', 'Pending'), ('VERIFIED', 'Verified'), ('FINALIZED', 'Finalized')], default='PENDING', help_text='Result status', max_length=20),
        ),
        migrations.AddField(
            model_name='result',
            name='verified_at',
            field=models.DateTimeField(blank=True, help_text='When result was verified', null=True),
        ),
        migrations.AddField(
            model_name='result',
            name='verified_by',
            field=models.ForeignKey(blank=True, help_text='User who verified this result', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='verified_results', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddIndex(
            model_name='leaderboardentry',
            index=models.Index(fields=['event', '-points'], name='results_lea_event_i_da92e8_idx'),
        ),
        migrations.AddIndex(
            model_name='result',
            index=models.Index(fields=['verified_at'], name='results_res_verifie_386f23_idx'),
        ),
        migrations.AddIndex(
            model_name='result',
            index=models.Index(fields=['verified_by'], name='results_res_verifie_d73e55_idx'),
        ),
        migrations.RemoveField(
            model_name='leaderboardentry',
            name='d',
        ),
        migrations.RemoveField(
            model_name='leaderboardentry',
            name='ga',
        ),
        migrations.RemoveField(
            model_name='leaderboardentry',
            name='gd',
        ),
        migrations.RemoveField(
            model_name='leaderboardentry',
            name='gf',
        ),
        migrations.RemoveField(
            model_name='leaderboardentry',
            name='l',
        ),
        migrations.RemoveField(
            model_name='leaderboardentry',
            name='pts',
        ),
        migrations.RemoveField(
            model_name='leaderboardentry',
            name='w',
        ),
    ]
