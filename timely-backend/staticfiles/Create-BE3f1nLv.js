import{c as b,g as w,n as S,h as k,u as D,o as C,r as l,j as e,C as r,p as i}from"./index-BzJ6QfSi.js";import{A as E}from"./arrow-left-BlSRFXVp.js";import{C as R}from"./calendar-uyLTvhLs.js";import{M as _}from"./map-pin-V2Yx112g.js";import{U as F}from"./users-MvxGr1nP.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],q=b("dollar-sign",P),B=()=>{const n=w(),[h]=S(),p=h.get("event"),{showSuccess:j,showError:c}=k(),{data:g}=D({page_size:50}),u=C(),[a,v]=l.useState(p||""),[m,N]=l.useState(""),[x,d]=l.useState(!1),o=g?.results||[],t=o?.find(s=>s.id.toString()===a),f=async s=>{if(s.preventDefault(),!a){c("Validation Error","Please select an event");return}d(!0);try{await u.mutateAsync({event:parseInt(a),notes:m||null}),j("Registration Submitted","Your registration has been submitted for approval"),n("/registrations/my")}catch{c("Registration Failed","Failed to submit registration. Please try again.")}finally{d(!1)}},y=a;return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("button",{onClick:()=>n("/events"),className:"mr-4 p-2 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(E,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Register for Event"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Sign up for sports events and competitions"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Event Registration"}),e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Select Event"}),e.jsxs("select",{value:a,onChange:s=>v(s.target.value),className:"form-input",required:!0,children:[e.jsx("option",{value:"",children:"Choose an event..."}),o.filter(s=>s.status==="PUBLISHED").map(s=>e.jsxs("option",{value:s.id,children:[s.name," - ",new Date(s.start_datetime).toLocaleDateString()]},s.id))]})]}),t&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Event Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(R,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Date & Time"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[new Date(t.start_datetime).toLocaleDateString()," at"," ",new Date(t.start_datetime).toLocaleTimeString()]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(_,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Venue"}),e.jsx("p",{className:"text-sm text-gray-600",children:t.venue_name||t.location||"TBD"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(F,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Sport"}),e.jsx("p",{className:"text-sm text-gray-600",children:t.sport_name||`Sport ${t.sport}`})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(q,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Registration Fee"}),e.jsx("p",{className:"text-sm text-gray-600",children:t.fee_cents?`$${(t.fee_cents/100).toFixed(2)}`:"Free"})]})]})]}),t.description&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 mb-2",children:"Description"}),e.jsx("p",{className:"text-sm text-gray-600",children:t.description})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Additional Notes (Optional)"}),e.jsx("textarea",{value:m,onChange:s=>N(s.target.value),className:"form-input",rows:3,placeholder:"Any additional information you'd like to include..."})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:!y||x,className:"btn btn-primary inline-flex items-center",children:x?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"spinner spinner-sm mr-2"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(r,{className:"h-4 w-4 mr-2"}),"Submit Registration"]})})})]})]})}),e.jsxs("div",{className:"lg:col-span-1",children:[e.jsxs("div",{className:"card mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Registration Process"}),e.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(r,{className:"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("p",{children:"Select an event you want to participate in"})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(r,{className:"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("p",{children:"Review event details and requirements"})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(r,{className:"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("p",{children:"Submit your registration for approval"})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(i,{className:"h-4 w-4 text-yellow-500 mt-0.5 flex-shrink-0"}),e.jsx("p",{children:"Wait for organizer approval"})]})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Important Notes"}),e.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(i,{className:"h-4 w-4 text-blue-500 mt-0.5 flex-shrink-0"}),e.jsx("p",{children:"Registration is subject to organizer approval"})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(i,{className:"h-4 w-4 text-blue-500 mt-0.5 flex-shrink-0"}),e.jsx("p",{children:"You will be notified once your registration is approved"})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(i,{className:"h-4 w-4 text-blue-500 mt-0.5 flex-shrink-0"}),e.jsx("p",{children:"Make sure you meet all event requirements"})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(i,{className:"h-4 w-4 text-blue-500 mt-0.5 flex-shrink-0"}),e.jsx("p",{children:"Contact the organizer if you have questions"})]})]})]})]})]})]})})};export{B as default};
