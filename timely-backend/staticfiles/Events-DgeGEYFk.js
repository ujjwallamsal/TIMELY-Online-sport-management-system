import{c,r as x,u as f,E as w,j as e,L as r}from"./index-BzJ6QfSi.js";import{S as E,E as S}from"./search-DYsh0_SL.js";import{C as o}from"./calendar-uyLTvhLs.js";import{E as C}from"./eye-DYiJrCQb.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],D=c("circle-x",k);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],L=c("megaphone",A);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],h=c("plus",_);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],F=c("square-pen",M),q=()=>{const[i,p]=x.useState(""),[t,u]=x.useState("all"),[a,j]=x.useState("all"),{data:l,isLoading:g,error:y}=f({search:i||void 0,status:t!=="all"?t:void 0,sport:a!=="all"?a:void 0,page_size:50}),m=w(),n=l?.results||[],N=s=>{switch(s){case"PUBLISHED":return"bg-green-100 text-green-800";case"DRAFT":return"bg-yellow-100 text-yellow-800";case"CANCELLED":return"bg-red-100 text-red-800";case"COMPLETED":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},v=async s=>{try{await m.mutateAsync({id:s,status:"PUBLISHED"})}catch{}},b=async s=>{try{await m.mutateAsync({id:s,status:"CANCELLED"})}catch{}};return y?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-red-600 text-lg mb-4",children:"Error loading events"}),e.jsx("p",{className:"text-gray-600",children:"Please try again later"})]})})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Event Management"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Manage all sports events in the system"})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs(r,{to:"/events/create",className:"btn btn-primary inline-flex items-center",children:[e.jsx(h,{className:"h-4 w-4 mr-2"}),"Create Event"]})})]})}),e.jsx("div",{className:"card mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"form-label",children:"Search Events"}),e.jsxs("div",{className:"relative",children:[e.jsx(E,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by event name or description...",value:i,onChange:s=>p(s.target.value),className:"form-input pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Status"}),e.jsxs("select",{value:t,onChange:s=>u(s.target.value),className:"form-input",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"DRAFT",children:"Draft"}),e.jsx("option",{value:"PUBLISHED",children:"Published"}),e.jsx("option",{value:"CANCELLED",children:"Cancelled"}),e.jsx("option",{value:"COMPLETED",children:"Completed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Sport"}),e.jsxs("select",{value:a,onChange:s=>j(s.target.value),className:"form-input",children:[e.jsx("option",{value:"all",children:"All Sports"}),e.jsx("option",{value:"1",children:"Football"}),e.jsx("option",{value:"2",children:"Basketball"}),e.jsx("option",{value:"3",children:"Tennis"}),e.jsx("option",{value:"4",children:"Swimming"})]})]})]})}),e.jsx("div",{className:"card",children:g?e.jsx("div",{className:"space-y-4",children:[...Array(10)].map((s,d)=>e.jsxs("div",{className:"flex items-center space-x-4 animate-pulse",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/3"})]}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-20"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"})]},d))}):n.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Event"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Venue"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fee"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center",children:e.jsx(o,{className:"h-6 w-6 text-primary-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.name}),e.jsx("div",{className:"text-sm text-gray-500",children:s.sport_name||`Sport ${s.sport}`})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.jsx("div",{children:new Date(s.start_datetime).toLocaleDateString()}),e.jsx("div",{className:"text-gray-500",children:new Date(s.start_datetime).toLocaleTimeString()})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.venue_name||s.location||"TBD"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`status-badge ${N(s.status)}`,children:s.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.fee_cents?`$${(s.fee_cents/100).toFixed(2)}`:"Free"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx(r,{to:`/events/${s.id}`,className:"text-primary-600 hover:text-primary-900 p-1",title:"View Event",children:e.jsx(C,{className:"h-4 w-4"})}),e.jsx(r,{to:`/events/${s.id}/edit`,className:"text-gray-600 hover:text-gray-900 p-1",title:"Edit Event",children:e.jsx(F,{className:"h-4 w-4"})}),s.status==="DRAFT"&&e.jsx("button",{onClick:()=>v(s.id),className:"text-green-600 hover:text-green-900 p-1",title:"Announce Event",children:e.jsx(L,{className:"h-4 w-4"})}),s.status==="PUBLISHED"&&e.jsx("button",{onClick:()=>b(s.id),className:"text-red-600 hover:text-red-900 p-1",title:"Cancel Event",children:e.jsx(D,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-gray-400 hover:text-gray-600 p-1",children:e.jsx(S,{className:"h-4 w-4"})})]})})]},s.id))})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(o,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No events found"}),e.jsx("p",{className:"text-gray-500",children:i||t!=="all"||a!=="all"?"Try adjusting your search criteria":"No events have been created yet"}),e.jsx("div",{className:"mt-4",children:e.jsxs(r,{to:"/events/create",className:"btn btn-primary inline-flex items-center",children:[e.jsx(h,{className:"h-4 w-4 mr-2"}),"Create First Event"]})})]})}),l&&l.count>50&&e.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",n.length," of ",l.count," events"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"btn btn-outline btn-sm",disabled:!0,children:"Previous"}),e.jsx("button",{className:"btn btn-outline btn-sm",disabled:!0,children:"Next"})]})]})]})})};export{q as default};
